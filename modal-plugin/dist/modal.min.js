class Modal{constructor(t){this.default={backdropBlur:!1,animationType:"fadeIn",animationDuration:.3},this.animations=["none","fadeIn","zoomIn","fadeInDown","fadeInUp","bounce"],this.options={...this.default,...t}}setModalOverlayClasses(){const t=[];return!0===this.options.backdropBlur&&t.push("modal--blured"),0===t.length?null:this.modalOverlay.classList.add(...t)}setModalWindowClasses(){const t=[];return"number"==typeof this.options.animationDuration&&"none"!==this.options.animationType&&this.modals.forEach((t=>t.style.setProperty("--time",`${this.options.animationDuration}s`))),this.animations.includes(this.options.animationType)&&"none"!==this.options.animationType&&t.push(this.options.animationType),0===t.length?null:this.modals.forEach((e=>e.classList.add(...t)))}open(t){this.currentModal=this.modals.find((e=>e.dataset.modal===t.target.dataset.trigger)),this.currentModal&&this.handleActiveClasses()}close(t){null===t.target.closest(".modal__content")&&this.handleActiveClasses(!1)}handleActiveClasses(t=!0){t?(this.modalOverlay.classList.add("modal--active"),this.currentModal.classList.add("modal__content--active"),document.body.classList.add("modal-enabled")):(this.modalOverlay.classList.remove("modal--active"),this.currentModal.classList.remove("modal__content--active"),document.body.classList.remove("modal-enabled"))}setTriggers(){this.triggers.forEach((t=>t.addEventListener("click",(t=>this.open(t)))))}setModal(){this.modalOverlay.addEventListener("click",(t=>this.close(t)))}createModalMarkup(){document.body.insertAdjacentHTML("afterbegin",'<div class="modal"><div class="modal__container"></div></div>')}setContent(t,e){const a=`<div class="modal__content" data-modal="${e}">${t}</div>`;document.querySelector(".modal")||this.createModalMarkup(),document.querySelector(".modal").children[0].insertAdjacentHTML("beforeend",a)}init(){this.modalOverlay=document.querySelector(".modal"),this.modals=[...this.modalOverlay.querySelectorAll("[data-modal]")],this.triggers=document.querySelectorAll("[data-trigger]"),this.setTriggers(),this.setModal(),this.setModalOverlayClasses(),this.setModalWindowClasses()}}