export class Modal{constructor(t){this.default={background:{backdropBlur:1,backgroundOpacity:.8},animation:{animationType:"fadeIn",animationDuration:.3}},this.animations=["none","fadeIn","zoomIn","fadeInDown","fadeInUp","bounce"],this.options={...this.default,...t}}setOptions(){let t="";this.options.background.backdropBlur&&(t+=`backdrop-filter: blur(${this.options.background.backdropBlur}px);`),this.options.background.backdropBlur&&(t+=`background-color: rgba(0, 0, 0, ${this.options.background.backgroundOpacity})`),this.overlay.setAttribute("style",t),this.overlay.querySelectorAll(".modal__content").forEach((t=>{this.animations.includes(this.options.animation.animationType)&&"none"!==this.options.animation.animationType&&(t.classList.add(this.options.animation.animationType),t.style.setProperty("--time",`${this.options.animation.animationDuration}s`))}))}open(t){this.currentModal=document.querySelector(`[data-modal="${t.target.dataset.trigger}"]`),this.currentModal.classList.add("modal__content--active"),document.body.classList.add("modal-enabled"),this.overlay.classList.add("modal--active")}close(t){t.target.closest(".modal__content")||(this.currentModal.classList.remove("modal__content--active"),document.body.classList.remove("modal-enabled"),this.overlay.classList.remove("modal--active"))}events(){this.triggers.forEach((t=>t.addEventListener("click",(t=>this.open(t))))),this.overlay.addEventListener("click",(t=>this.close(t)))}init(){this.overlay=document.querySelector(".modal"),this.triggers=document.querySelectorAll("[data-trigger]"),this.events(),this.setOptions()}}export class CustomModal extends Modal{constructor(t){super(),this.options={...this.default,...t}}createModalMarkup(){document.body.insertAdjacentHTML("afterbegin",'<div class="modal"><div class="modal__container"></div></div>')}setContent(t,o){const a=`<div class="modal__content" data-modal="${o}">${t}</div>`,e=document.querySelector(".modal");e||this.createModalMarkup(),e.children[0].insertAdjacentHTML("beforeend",a)}}